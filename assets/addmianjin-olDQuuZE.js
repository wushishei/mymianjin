import{t as e}from"./request-CMp-Rt37.js";import{C as t,E as n,O as r,P as i,S as a,_ as o,b as s,c,j as l,k as u,l as d,n as f,o as p,s as m,u as h,x as g}from"./index-DPV6HfP3.js";var _={class:`article-container`},v={class:`stem`},y={class:`article-content`},b={class:`html-toolbar`},x={class:`toolbar-buttons`},S={class:`body`},C={class:`form-actions`},w=m(t({__name:`addmianjin`,setup(t){let m=p(),w=l({stem:``,content:``}),T=l(null),E=l(!1),D=e=>{if(w.value.content+=e+`
`,T.value){let e=T.value.$el.querySelector(`textarea`);e&&e.focus()}},O=()=>{m.back()},k=async()=>{try{E.value=!0,d({message:`发布中...`,forbidClick:!0});let t=await e.post(`/admin/interview/create`,{stem:w.value.stem,content:w.value.content},{headers:{Authorization:f()}});t.data.code===1e4?(h(`发布成功`),m.push(`/`)):c(`发布失败：`+t.data.msg)}catch(e){c(`发布失败，请稍后重试`),console.error(`发布失败:`,e)}finally{E.value=!1}};return(e,t)=>{let c=r(`van-nav-bar`),l=r(`van-field`),d=r(`van-button`),f=r(`van-form`);return n(),s(`div`,_,[a(c,{title:`发布面经`,"left-text":`返回`,"left-arrow":``,onClickLeft:O}),a(f,{onSubmit:k,class:`article-form`},{default:u(()=>[o(`div`,v,[a(l,{modelValue:w.value.stem,"onUpdate:modelValue":t[0]||=e=>w.value.stem=e,placeholder:`请输入吸引人的面经题目（如：2024年字节跳动前端面经分享）`,rules:[{required:!0,message:`请输入面经题目`}],class:`form-field`,border:!1},null,8,[`modelValue`])]),o(`div`,y,[o(`div`,b,[t[26]||=o(`div`,{class:`toolbar-title`},`快捷标签：`,-1),o(`div`,x,[a(d,{type:`default`,size:`small`,onClick:t[1]||=e=>D(`<h1>标题</h1>`)},{default:u(()=>[...t[14]||=[g(`H1`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[2]||=e=>D(`<h2>标题</h2>`)},{default:u(()=>[...t[15]||=[g(`H2`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[3]||=e=>D(`<h3>标题</h3>`)},{default:u(()=>[...t[16]||=[g(`H3`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[4]||=e=>D(`<strong>强调</strong>`)},{default:u(()=>[...t[17]||=[g(`粗体`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[5]||=e=>D(`<em>强调</em>`)},{default:u(()=>[...t[18]||=[g(`斜体`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[6]||=e=>D(`<ul>
<li>列表项</li>
</ul>`)},{default:u(()=>[...t[19]||=[g(`无序列表`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[7]||=e=>D(`<ol>
<li>列表项</li>
</ol>`)},{default:u(()=>[...t[20]||=[g(`有序列表`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[8]||=e=>D(`<code>代码</code>`)},{default:u(()=>[...t[21]||=[g(`行内代码`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[9]||=e=>D(`<pre>
代码块
</pre>`)},{default:u(()=>[...t[22]||=[g(`代码块`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[10]||=e=>D(`<blockquote>引用内容</blockquote>`)},{default:u(()=>[...t[23]||=[g(`引用`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[11]||=e=>D(`<hr>`)},{default:u(()=>[...t[24]||=[g(`分隔线`,-1)]]),_:1}),a(d,{type:`default`,size:`small`,onClick:t[12]||=e=>{D(`style='color: red;'`)}},{default:u(()=>[...t[25]||=[g(`加样式`,-1)]]),_:1})])]),o(`div`,S,[a(l,{modelValue:w.value.content,"onUpdate:modelValue":t[13]||=e=>w.value.content=e,type:`textarea`,placeholder:`请详细分享你的面试经验、技巧和心得...\\n\\n建议包含：\\n- 面试流程\\n- 技术问题\\n- 解题思路\\n- 面试心得\\n- 准备建议`,rows:12,rules:[{required:!0,message:`请输入面经内容`}],"show-word-limit":``,maxlength:`2000`,class:`content-textarea`,border:!1,ref_key:`contentField`,ref:T},null,8,[`modelValue`])])]),o(`div`,C,[a(d,{type:`primary`,block:``,"native-type":`submit`,loading:E.value,disabled:E.value,round:``,size:`large`},{default:u(()=>[g(i(E.value?`发布中...`:`发布面经`),1)]),_:1},8,[`loading`,`disabled`])])]),_:1})])}}}),[[`__scopeId`,`data-v-ef664912`]]);export{w as default};